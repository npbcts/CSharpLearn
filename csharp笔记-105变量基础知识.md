## C# 自我初学笔记 第N单元  变量基础知识

来源于: [Learn C# 初级自学教程](https://learn.microsoft.com/zh-cn/training/modules/csharp-literals-variables/3-declaring-variables),微软推出的初学者教程整理。


文本实际上是硬编码值。 但是，大多数应用程序要求我们使用我们不太了解的值。 换句话说，我们需要处理来自用户、文件或跨网络的数据。

如果需要处理代码之外的数据，就需要声明一个变量。

### 什么是变量？

“变量”是在其生存期内可能更改其值的数据项。 可以使用变量来临时存储稍后要在代码中使用的值。 变量是可分配给计算机内存地址的易记标签。 当我们想要临时将值存储在该内存地址中时，或者每当我们想要检索存储在内存地址中的值时，只需使用我们创建的变量名称即可。

### 声明变量
若要创建新变量，必须**首先声明变量的数据类型**，然后为其指定名称
```c#
string firstName;
```
在此示例中，我们要创建名为 firstName 的新变量类型 string。 从现在开始，此变量只能保存 string 类型的值。

我可以选择任何名称，只要它符合一些用于命名变量的 C# 语法规则。

### 变量的命名规则

一位软件开发人员曾经说过一句名言：“软件开发最难的部分就是命名。”变量的名称不仅必须遵循某些语法规则，还应使代码更易于用户阅读和理解。 编写单个代码行的要求非常多！

下面是有关变量名的一些重要注意事项：

- 变量名可包含**字母数字字符和下划线字符**。 不允许使用特殊字符，如哈希符号 #（也称为数字符号或井符号）或美元符号 $。
- 变量名必须以**字母**或下划线开头，不能以数字开头。 开发者将下划线用于特殊目的，因此现在请勿使用。
- 变量名不能是 C# 关键字。 例如，不能使用以下变量声明：decimal decimal; 或 string string;。
- 变量名区分大小写，这意味着 string Value; 和 string value; 是两个不同的变量。
变量名**应使用骆驼式命名法**，这是一种编写样式，即第一个单词以小写字母开始，后续每个单词的- 首字母采用大写形式。 例如 string thisIsCamelCase;。
- 变量名在应用程序中应具有描述性且有意义。 为变量选择一个名称，用于表示其将保存的数据类型。
- 变量名应是附加在一起的一个或多个完整字词。 请勿使用缩写，因为阅读你的代码的人可能不清楚该变量的名称（以及其用途）。
- 变量名称**不应包含变量的数据类型**。 你可能会看到使用类似 string strValue; 样式的一些建议。 该建议已不适用于最新情况。


### 声明变量并为其赋值

若要为变量赋值，请使用“赋值运算符”，这是一个等号字符 =。

```c#
string firstName;
firstName = "Bob";
```
或, 可以在单个代码行中执行声明并设置变量的值。 此技术称为初始化变量。:
```c#
string firstName="Bob";
```

### 强制执行类型
我们前面声明过，C# 旨在强制执行类型。 使用变量时，“强制执行类型”意味着**不能将一种数据类型的值分配给声明为保留不同数据类型的变量**。
```c#
int firstName="Bob";
```
返回报错:
```c#
(2,9): error CS0029: Cannot implicitly convert type 'string' to 'int'
```

### 检索存储在变量中的值
若要从变量中检索值，只需使用变量的名称。 此示例将设置变量的值，然后检索该值并将其打印到控制台。
```c#
string firstName;
firstName = "Bob";
Console.WriteLine(firstName);
```
必须先将变量设置为值，然后才能从变量获取值。 否则会出错。

只声明没有赋值的情况:
```c#
string firstName;
firstName = "Bob";
Console.WriteLine(firstName);
```
报错如下：
```c#
(2,19): error CS0165: Use of unassigned local variable 'firstName'
```

### 隐式类型本地变量

隐式类型本地变量使用 var 关键字进行创建，该关键字指示 C# 编译器去推断类型。 推断出类型后，它与实际数据类型一样，也可用于声明变量。  
下面是使用 var 关键字而不是 string 关键字来声明变量。
```c#
var firstName = 'Bob'
```
由于变量 `firstName` 会被立即设置为字符串值 `"Bob"`，因此 C# 编译器了解其意向并将每个`firstName`实例视为 `string` 类型实例。事实上，`firstName` 变量的类型为字符串，并且永远无法更改。

- **只能在初始化变量时使用 var 关键字**  
请务必了解，var 关键字依赖用于初始化变量的值。 如果尝试在不初始化变量的情况下使用 var 关键字，则在试图编译代码时会收到错误消息。
- 为什么使用 var 关键字？
    - var 关键字已被 C# 社区广泛采用
    - 但 var 关键字在 C# 中具有重要用途。 由于在编写高级代码之前你可能不甚了解，因此在某些情况下，初始化变量时，数据类型可能不太明显。 实际上，在某些情况下， C# 可能会为代码提供一种新的数据类型，并可能无法提前为其指定可预测的命名。 再说一次，这是 C# 的一项高级功能，我们将在其他模块中进行介绍。
    - 开始之际，我们建议声明变量时继续使用实际的数据类型名称。 声明变量时使用数据类型有助于你有目的性地编写代码。

(End)
